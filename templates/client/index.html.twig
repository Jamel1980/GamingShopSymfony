{% extends 'base.html.twig' %}

{% block title %}Hello ClientController!
{% endblock %}

{% block body %}
	{% block stylesheets %}{% endblock %}
	<!DOCTYPE html>
	<html lang="en">

		<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<title>Profile and Games Dashboard</title>
			<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
			<script src="https://cdn.tailwindcss.com"></script>
			<style>
				body {
					font-family: 'Open Sans', sans-serif;
				}
			</style>
		</head>

		<body class="bg-gray-50">
			<div class="min-h-screen flex flex-col">
				<div
					class="flex-grow grid grid-cols-12 gap-4 p-4">
					<!-- Profile Settings -->
					<div class="col-span-12 lg:col-span-4 bg-white shadow rounded-lg p-4">
						<h2 class="text-lg font-semibold mb-4">Profile Settings</h2>
						<form class="mb-4" action="" method="post" enctype="multipart/form-data">
							<div class="buttons">
								<div class="w-24 h-24 rounded-full bg-gray-300 flex items-center justify-center mx-auto mb-4 overflow-hidden">
									<span class="text-gray-500">
										<img id="image_view" src="{{ photo is defined ? asset('upload/' ~ photo) : asset('image-site-vitrine/boy.avif') }}" alt="" width="" class="img-fluid">
									</span>

								</div>
								<input type="file" value="" id="photo" name="photo" class="btn btn-success" onchange="previewImage(event,'image_view')">
							</div>
							<div class="flex flex-col space-y-2">
								<label for="name">NOM</label>
								<input type="text" class="border p-2 rounded" id="nom" name="nom" value="{{client.nom}}">
								<label for="prenom">PRENOM</label>
								<input type="text" class="border p-2 rounded" id="prenom" name="prenom" value="{{client.prenom}}">
								<label for="name">Email</label>
								<input type="email" class="border p-2 rounded" id="email" name="email" value="{{user.email}}">
								<label for="name">Password</label>
								<input type="password" class="border p-2 rounded" id="password" name="password">
							</div>
							<div class="flex justify-between">
								<button class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l">
									Return
								</button>
								<button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r" onclick="editPhoto()">
									Update
								</button>
							</div>
						</form>

					</div>

					<!-- Games Purchased -->
					<div class="col-span-12 lg:col-span-8 bg-white shadow rounded-lg p-4">
						<h2 class="text-lg font-semibold mb-4">Games Purchased</h2>
						<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
							<div class="col-span-1">
								<div class="font-semibold">Title</div>
								<div>Call of Duty</div>
							</div>
							<div class="col-span-1 md:col-span-2 lg:col-span-1">
								<div class="font-semibold">Description</div>
								<div>First-person shooter game</div>
							</div>
							<div class="col-span-1">
								<div class="font-semibold">Creator</div>
								<div>Microsoft</div>
							</div>
							<div class="col-span-1">
								<div class="font-semibold">Platform</div>
								<select class="border p-2 rounded">
									<option>PlayStation</option>
									<option>Nintendo</option>
									<option>Xbox</option>
									<option>PC</option>
								</select>
							</div>
							<div class="col-span-1">
								<div class="font-semibold">Price</div>
								<div>99.99 $</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</body>

	</html>
	{% block script %}
		<script>
			// sent request via ajax to the path {{path('app_client_edit_photo')}}
function editPhoto() {
var form = document.querySelector('form');
var formData = new FormData(form);
var xhr = new XMLHttpRequest();
const url = "{{ path('app_client_edit_photo') }}";
xhr.open('POST', url, true);
xhr.send(formData);
}
		</script>
	{% endblock %}
{% endblock %}
